<!DOCTYPE html>
{% extends "base.html" %}

{% block content %}



<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

<title>HD eXplosion</title>
    <style>
    html,body {
        width:100%;
        height:100%
        }
    body {
        background-color: white;
        background-size: cover;
        font-family: "Lucida Sans", Helvetica, Arial, sans-serif;
        font-size: 14px;
        }


    li{
        list-style: none;
        margin: 2px;

    }

    input[type="number"] {
        width: 50px;
    }

     h1 {
         color: #FFFFFF;

     }

     footer{
        width: 100%;
        height: fit-content;
        position:absolute;
        top:735px;
        left:0px;
        overflow: hidden;
        text-align: center;
        border-top-style:solid;
        border-top-width: thin;
    }

     #div1,#div2,#div3{
         display: inline-block;
     }

     #wrap{
         display: flex;
         justify-content:space-around;
     }
		
	 .div1,.div2,.div3{
         display: inline-block;
     }

     .text-oneLine{
         display:block;
         word-break:keep-all;
         white-space:nowrap;
         overflow:hidden;
         text-overflow:ellipsis;
         color: black;
     }


     .box {
        position: absolute;
         width: 630px;
         border: 5px solid darkgray;
         padding: 15px;
         margin: 15px;
         float:left;
         border-radius: 30px;
     }

     .screen {
         position: absolute;
         left:650px;
         top:100px;
         width: 45%;
         height: 550px;
         line-height: 550px;
         text-align: center;
         background-color: lightgrey;
         margin: 30px auto;
         font-size: large;

     }


     .r_selection{
         float: right;
         position: relative;
         top:5px;
     }

     .button {
         border-radius: 3px;
         text-align: center;
     }

     .btn {
         width: 150px;
         padding: 4px 0;
         position: relative;
         border-radius: 3px;
     }


        p4 {
	        text-align: center;
  	        text-transform: uppercase;
            user-select: none;
            }


        img {
        width: 100%; 
        height: 100%; 
        object-fit: contain;
            }

        img.center {
            display: block;
            margin: 0 auto;
        }

        #element:fullscreen {
            width: 100vw;
            height: 100vh;
            background-position: center;
        }

        .el:-webkit-full-screen {
          width: 100vw;
          height: 100vh;
        }

        .el:-moz-full-screen {
          width: 100vw;
          height: 100vh;
        }

        .el:-ms-fullscreen {
          width: 100vw;
          height: 100vh;
        }

        .el:fullscreen {
          width: 100vw;
          height: 100vh;
        }

        figure:-webkit-full-screen figcaption {
          display: none;
        }

        figure:-moz-full-screen figcaption {
          display: none;
        }

        figure:-ms-fullscreen figcaption {
          display: none;
        }

        figure:fullscreen figcaption {
          display: none;
        }

        :-webkit-full-screen .footnotes {
          display: none;
        }

        :-moz-full-screen .footnotes {
          display: none;
        }

        :-ms-fullscreen .footnotes {
          display: none;
        }

        :fullscreen .footnotes {
          display: none;
        }
    </style>

    <script type="text/javascript" >
        {#var log = document.querySelector("#log");#}
        {#function change1() {#}
        {#    var value = document.getElementById("range1").value;#}
        {#    log.innerText = value;#}
        {#    console.log(value);#}
        {# }#}




        function f0(param){
            for(var i =1;i<=2;i++){
                var id =document.getElementById("c"+i);
                id.style.display="none";
                if(i===param){
                    id.style.display="block";
                 }
            }
        }

        function f1(param){
            for(var i =1;i<=2;i++){
                var id =document.getElementById("d"+i);
                id.style.display="none";
                if(i===param){
                    id.style.display="block";
                 }
            }
        }


        function fullscreen() {
            var el = document.getElementById('graphdiv');

            // use necessary prefixed versions
            el.webkitRequestFullscreen();
            el.mozRequestFullScreen();
            el.msRequestFullscreen();

            // finally the standard version
            el.requestFullscreen();
        }

    </script>


</head>

<body>

    <div style="margin-left: 50px">
        <div id="div1">
            <h1 style="color: black; ">HD-eXplosion</h1>
        </div>
        <div id="div2" style="width: 200px">

        </div>
        <div id="div3" style="display: inline-list-item">
            <button class="button" type = "button"  >Instructions</button>
        </div>
    </div>




    <div class="box" style="left:20px;top:100px;height:250px">
        <h4><strong>Data </strong></h4>

        <span>
            <form  method="post" enctype="multipart/form-data">
            <input id="single_file" type="radio"  name="upload" value="file_s" onclick="f0(1)" checked>
            <label for="single_file">One File</label><br>
            <input id="multi_files" type="radio"  name="upload" value="file_m" onclick="f0(2)">
            <label for="multi_files">Multiple Files</label><br>
            </form>
        </span>

        <div class="div1">
            <form  method="post" action="/upload_single_file"  enctype="multipart/form-data" style="display: inline; float:left">
                <div id="c1">
                    <p><input id="upload_s" type="file" name="file"  autocomplete="off" required>
                     <label for="upload_s"> Please select ONE file to upload</label></p>
                    <input type="submit" value="Submit">
                    <h6>{{ ipaddr }}</h6>
                    <a href="help">Click here for a demo file</a>
                </div>
            </form>

            <form  method="post" action="/upload_multi_files" enctype="multipart/form-data" style="display: inline; float:left">
                <div id="c2" style="display: none">
                    <p><input id="upload_m" type="file" name="files[]" multiple="true" autocomplete="off" required>
                    <label for="upload_m"> You may select up to 5 files to upload</label></p>
                    <input type="submit" value="Merge">
                    <h6>{{ ipaddr }}</h6>
                    <a href="help">Click here for a demo file</a>
                </div>
            </form>
        </div>

         <div class="div3">
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        <p class="flashes">{{ messages }}</p>

                    {% endif %}
                {% endwith %}
        </div>

    

        <!--
        <div style="float: top;display: inline">
            <input type="file" name="file_2" autocomplete="off" required><br>
            <label for="file_2">Upload Second DynamX Output</label>
            <input type="submit" name="file_2" value="Submit">
        </div>   -->



    </div>


     <div class="box" style="left:20px;top:360px;height:350px;">
         <div class="div1">
            <h4><strong>Parameters</strong></h4>
         </div>
          <div class="div2" style="width: 30px">

        </div>
         <div class="div3">
            <h6><strong>Plot Type</strong></h6>
         </div>
        <form action="" method="post">
            <div class="div1">
                 <input id="Heatmap" type="radio" name="plot" value="Heatmap" onclick="f1(2)" checked>
                <label for="Heatmap">Heatmap </label><br>
             </div>
            <div class="div2" style="width: 50px">
            </div>
            <div class="div3">
                <input id="Volcano Plot" type="radio"  name="plot" value="Volcano Plot" onclick="f1(1)">
                <label for="Volcano Plot">Volcano Plot</label><br>
            </div>
        </form>

        <form action="/click_show_v" method = "post">
         <div id="d1" style="display:none">
             <ul class="div1" >
                <li>
                    Protein&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein">

                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>


                 <li>Symbol size&nbsp&nbsp<input id="rangeId" type="range" name="size" min="1" max="9" step="1" value="2" oninput="rangeOutId.value = rangeId.value"/>
				 <output name="rangeOut" id="rangeOutId">2</output>
				 </li>


                 <li>X-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="X_scale"></li>

                <li>Y-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="Y_scale_l"> - <input type="number" step="0.01" min="0" max="9999" name="Y_scale_r"></li>

                <li>Major interval&nbsp&nbsp<input type="number" placeholder="0.01" step="0.01" min="0" max="9999" name="interval"></li>

                <li><button class="button" type = "submit" >Show</button></li>

            </ul>


            <ul class="div3">
                <li>
                    Time points&nbsp&nbsp<select  name="time_point">
                    {% for lst in lists[2] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>

                <li>
                    State1&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1">
                        {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2">
                       {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>

                <li>
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color">
                    <option value ="pattern1">Pattern1</option>
                    <option value ="pattern2">Pattern2</option>

                </select></li>

                <li>Significance&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="0.01"></li>

                <li>Min-difference(Da)&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="min_dif" value="0.5"></li>

            </ul>
         </div>
         </form>

      

	<form action="/click_show_h" method = "post">
    <div id="d2" >
             <ul class="div1" >
                <li>
                    Protein&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein">

                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>

                 <li><strong>Range:</strong>
				 </li>

                 <li>Max:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="0" max="9999" name="max"></li>

                <li>Step&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="1" min="0" max="9999" name="max_step"> </li>

                <li><strong>Negative</strong>&nbsp&nbsp&nbsp&nbsp<input id="negative" type="checkbox"  name="negative" onclick="negative()"></li>

                <li>Min:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min" type="number" step="0.1" min="-9999" max="9999" name="min"></li>

                <li>Step2&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min_step" type="number" step="1" min="0" max="9999" name="min_step"> </li>


                <li><button class="button" type = "submit" >Show</button></li>

            </ul>


            <ul class="div3">
                <!-- <li>
                    Time points&nbsp&nbsp<select  name="time_point">
                    {% for lst in lists[2] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>
            -->

                <li>
                    State1&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1">
                        {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2">
                       {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>

                <li id="color1">
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color">
                    <option class="color1" value ="r">r</option>
                    <option class="color1" value ="g">g</option>
                    <option class="color1" value ="b">b</option>

                    <option class="color1" value ="o">o</option>
                    <option class="color1" value ="y">y</option>

                    <option class="color1" value ="g">g</option>


                </select></li>

                 <li id="color2" style="display: none">
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color">

                    <option class="color2" value ="rb">rb</option>
                    <option class="color2" value ="br">br</option>
                    <option class="color2" value ="gr">gr</option>
                    <option class="color2" value ="ob">ob</option>

                    <option class="color2" value ="gr">gr</option>
                    <option class="color2" value ="bp">bp</option>

                    <option class="color2" value ="bg">bg</option>

                </select></li>

                <li>Significance Filter&nbsp&nbsp&nbsp&nbsp<input type="checkbox"  name="sig_filter"></li>

                <li>Significance&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="0.01"></li>

            </ul>
         </div>
         </form>

      </div>
                <script>
                     document.getElementById('negative').onchange = function() {
                        document.getElementById('min').disabled = this.checked;
                        document.getElementById('min_step').disabled = this.checked;

                        };


                    function negative() {
                        var negative = document.getElementById("negative");
                        // Get the output text
                        var color1 = document.getElementById("color1");
                        var color2 = document.getElementById("color2");

                        // If the checkbox is checked, display the output text
                        if (negative.checked === true){
                            color1.style.display = "none";
                            color2.style.display = "block";
                        } else{
                           color2.style.display = "none";
                           color1.style.display = "block";
                        }
                    }
                </script>



    <div id="graphdiv" class="screen" style="left:670px;top:100px">
        <img id="graphchart" class="center" src="/plotshow" alt="Your figure will show here" align="middle" >


    </div>








    <div  clasee="text-oneLine" style="position:absolute;left:750px;top:685px">
        <span>
            <button  type="button" onclick = "fullscreen()"><p4>Full Screen</p4></button>
            <button  type="button" onclick="window.location.href='{{ url_for('plotshow') }}';"><p4>Export as PNG</p4> </button>
            <button  type="button" onclick="window.location.href='{{ url_for('downloadeps') }}';"><p4>Export as EPS</p4></button>
            <button  type="button" onclick="window.location.href='{{ url_for('downloadcsv') }}';" ><p4>Export as CSV</p4></button>
        </span>

    </div>


<footer class="footnotes">
       If you use HD-eXplosion please acknowledge Naifu Zhang and Sheena D’Arcy of The University of Texas at Dallas.
</footer>

    <!--
<script type="text/javascript">
   function hello()
   {
       $.ajax(
      {
         type: "POST",
         url: "/hello",
         dataType: "html",
         success: function(msg)
         {
             console.log(msg);
             $("#display").html(msg);
         },
         error: function (xhr, status, error) {
            console.log(error);
        }
      });
   }
</script>

   <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
	<script>
        $.ajax({
        url: "test_post/nn",
        type: "POST",
        dataType: "json",
        success: function (data) {
            // alert(data.name + ":" + data.age);
            $("#NAME").val(data.name);
            $("#AGE").val(data.age);
            console.log(data)}

        })
	</script>

    <script>
        $(function() {
            // body...
            $("#btn").click(function(){
                $.ajax({
                url: "test_post/nn",
                type: "POST",
                dataType: "json",
                success: function (data) {
                // alert(data.name + ":" + data.age);
                $("#NAME2").val(data.name);
                $("#AGE2").val(data.age);
                console.log(data)}

                })
            })
        })
    </script>
-->


</body>

{% endblock%}

</html>