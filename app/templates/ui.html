<!DOCTYPE html>
{% extends "base.html" %}

{% block content %}



<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>


<title>HD eXplosion</title>
    <style>
        {# first reset all css tag to keep style consistency across browers#}
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td,span{
	padding: 0;
	margin: 0;
	}
table, span {
	border-collapse: collapse;
	border-spacing: 0;
	}
fieldset,img {
	border: 0;
	}
address,caption,cite,code,dfn,em,th,var {
	font-weight: normal;
	font-style: normal;
	}
ol,ul {
	list-style: none;
	}
caption,th {
	text-align: left;
	}

q:before,q:after {
	content:'';
	}
abbr,acronym { border: 0;
	}


    html,body {
        width:100%;
        height:100%
        }
    body {
        background-color: white;
        background-size: cover;
        font-family: "Lucida Sans", Helvetica, Arial, sans-serif;
        font-size: 14px;
        }

    ul {
        margin: 10px;
    }

    li{
        list-style: none;
        margin: 2px;

    }

    input[type="number"] {
        width: 50px;
    }

     h1 {
         color: #FFFFFF;

     }

     footer{
        width: 100%;
        height: fit-content;
        position:absolute;
        top:745px;
        left:0px;
        overflow: hidden;
        text-align: center;
        border-top-style:solid;
        border-top-width: thin;
    }

     #div1,#div2,#div3{
         display: inline-block;
     }

     #wrap{
         display: flex;
         justify-content:space-around;
     }
		
	 .div1,.div2,.div3{
         display: inline-block;
     }

      .error {
        color: rgb(218, 18, 18);
        font-size: 20px
            }

    .uploadnotice {
        color: rgb(14, 17, 218);
        font-size: 18px
            }

     .text-oneLine{
         display:block;
         word-break:keep-all;
         white-space:nowrap;
         overflow:hidden;
         text-overflow:ellipsis;
         color: black;
     }


     .box {
        position: absolute;
         width: 630px;
         border: 5px solid darkgray;
         padding: 15px;
         margin: 15px;
         float:left;
         border-radius: 30px;
     }

     .range {
         width: 100px;
         padding: 0;
     }

     .screen {
         position: absolute;
         left:650px;
         top:100px;
         width: 45%;
         height: 550px;
         line-height: 550px;
         text-align: center;
         background-color: white;
         margin: 30px auto;
         font-size: large;

     }


     .r_selection{
         float: right;
         position: relative;
         top:5px;
     }

     .button {
         border-radius: 3px;
         text-align: center;
     }

     .btn {
         width: 150px;
         padding: 4px 0;
         position: relative;
         border-radius: 3px;
     }


        p4 {
	        text-align: center;
  	        text-transform: uppercase;
            user-select: none;
            }


        img {
        width: 100%; 
        height: 100%; 
        object-fit: contain;
            }

        img.center {
            display: block;
            margin: 0 auto;
        }

        /* .rb {
            background-image: url('../static/image/rb.gif');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
        } */



        .dropdown-toggle {
            background:#FFF !important;
            color:#000 !important;
            height: 30px;
            width: 100px;
            border-radius:0;
            box-shadow:none;
            border-image:none;
            align-content: center ;
            padding: 0;
            margin-bottom: 0;
        }

          .open .dropdown-toggle {
            background:#FFF !important;
            color:#000 !important;
            height: 30px;
            width: 50px;
            border-radius:0;
            box-shadow:none;
            border-image:none;
             align: center ;
             padding: 0;
        }

         .caret{
            color: gainsboro;
             margin-top: 0;
             padding: 0;
         }

        #element:fullscreen {
            width: 100vw;
            height: 100vh;
            background-position: center;
        }

        .el:-webkit-full-screen {
          width: 100vw;
          height: 100vh;
        }

        .el:-moz-full-screen {
          width: 100vw;
          height: 100vh;
        }

        .el:-ms-fullscreen {
          width: 100vw;
          height: 100vh;
        }

        .el:fullscreen {
          width: 100vw;
          height: 100vh;
        }

        figure:-webkit-full-screen figcaption {
          display: none;
        }

        figure:-moz-full-screen figcaption {
          display: none;
        }

        figure:-ms-fullscreen figcaption {
          display: none;
        }

        figure:fullscreen figcaption {
          display: none;
        }

        :-webkit-full-screen .footnotes {
          display: none;
        }

        :-moz-full-screen .footnotes {
          display: none;
        }

        :-ms-fullscreen .footnotes {
          display: none;
        }

        :fullscreen .footnotes {
          display: none;
        }
    </style>

    <script type="text/javascript" >

        function f0(param){
            for(var i =1;i<=2;i++){
                var id =document.getElementById("c"+i);
                id.style.display="none";
                if(i===param){
                    id.style.display="block";
                 }
            }
        }

        function f1(param){
            for(var i =1;i<=2;i++){
                var id =document.getElementById("d"+i);
                id.style.display="none";
                if(i===param){
                    id.style.display="block";
                 }
            }
        }


        function fullscreen() {
            var el = document.getElementById('graphdiv');

            // use necessary prefixed versions
            el.webkitRequestFullscreen();
            el.mozRequestFullScreen();
            el.msRequestFullscreen();

            // finally the standard version
            el.requestFullscreen();
        }




    </script>


</head>

<body>


    <div style="margin-left: 50px">
        <div id="div1">
            <h1 style="color: black; ">HD-eXplosion</h1>
        </div>
        <div id="div2" style="width: 200px">

        </div>
        <div id="div3" style="float: right; margin-right: 50px; display: inline-list-item">
            <button class="button" type = "button"  >Instructions</button>
        </div>
    </div>




    <div class="box" style="left:20px;top:100px;height:250px">
        <h4><strong>Data </strong></h4>
        {% if filestatus %}
        <span>
            <form  method="post" enctype="multipart/form-data">
            <input id="single_file" type="radio"  name="upload" value="file_s" onclick="f0(1)" >
            <label for="single_file">One File</label><br>
            <input id="multi_files" type="radio"  name="upload" value="file_m" onclick="f0(2)" checked>
            <label for="multi_files">Multiple Files</label><br>
            </form>
        </span>
        {% else %}
        <span>
            <form  method="post" enctype="multipart/form-data">
            <input id="single_file" type="radio"  name="upload" value="file_s" onclick="f0(1)" checked>
            <label for="single_file">One File</label><br>
            <input id="multi_files" type="radio"  name="upload" value="file_m" onclick="f0(2)" >
            <label for="multi_files">Multiple Files</label><br>
            </form>
        </span>
        {% endif %}

        {% if filestatus %}
        <div class="div1">
            <form  method="post" action="/upload_single_file"  enctype="multipart/form-data" style="display: inline; float:left" onsubmit="sub_file()">
                <div id="c1" style="display: none">
                    <p><input id="upload_s" type="file" name="file"  autocomplete="off" required>
                     <label for="upload_s"> Please select ONE file to upload</label></p>
                    <input type="submit" value="Submit" onclick="sub_file()">
                    <h6>{{ ipaddr }}</h6>
                    <a href="help">Click here for a demo file</a>
                </div>
            </form>
            <!-- <button  type="button" onclick="window.location.href='{{ url_for('downloadcsv') }}';" ><p4>Export as CSV</p4></button> -->
            
            <form  method="post" action="/upload_multi_files" enctype="multipart/form-data" style="display: inline; float:left">
                <div id="c2">
                    <p><input id="upload_m" type="file" name="files[]" multiple="true" autocomplete="off" required>
                    <label for="upload_m"> You may select up to 5 files to upload</label></p>
                    <input type="submit" value="Merge" onclick="sub_file()"> <input type="button"  onclick="window.location.href='{{ url_for('downloadcsv') }}';" value="Download Merged csv File">
                    <h6>{{ ipaddr }}</h6>
                    <a href="help">Click here for a demo file</a>
                </div>
            </form>
        </div>

        {% else %}

        <div class="div1">
            <form  method="post" action="/upload_single_file"  enctype="multipart/form-data" style="display: inline; float:left" onsubmit="sub_file()">
                <div id="c1">
                    <p><input id="upload_s" type="file" name="file"  autocomplete="off" required>
                     <label for="upload_s"> Please select ONE file to upload</label></p>
                    <input type="submit" value="Submit" onclick="sub_file()">
                    <h6>{{ ipaddr }}</h6>
                    <a href="help">Click here for a demo file</a>
                </div>
            </form>
        
            
            <form  method="post" action="/upload_multi_files" enctype="multipart/form-data" style="display: inline; float:left">
                <div id="c2" style="display: none">
                    <p><input id="upload_m" type="file" name="files[]" multiple="true" autocomplete="off" required>
                    <label for="upload_m"> You may select up to 5 files to upload</label></p>
                    <input type="submit" value="Merge & Submit" onclick="sub_file()"> <input type="button" value="Download Merged csv File">
                    <h6>{{ ipaddr }}</h6>
                    <a href="help">Click here for a demo file</a>
                </div>
            </form>
        </div>

        {% endif %}


         <div class="div3">
                <!-- {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        <p class="flashes">{{ messages }}</p>

                    {% endif %}
                {% endwith %} -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% for category, message in messages %}
                  <div id="message" class="{{ category }}" style="display: none"  value="{{ message }}" >{{ message }}</div>
                    <div class="alert alert-warning alert-dismissible" role="alert" oninput="sub_file()">
		  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
			{{message}}

		  </div>
                {% endfor %}
              {% endwith %}

            <!-- <script type="text/javascript">
                         function sub_file() {
                            // alert function in progress
                               //setTimeout(function() {
                                   var message = (document).getElementById('message').innerText;
                                    alert(message);
                              //},3000);
                             }

                   //                var message = (document).getElementById('message').innerText;
                    //                alert(message);

                    //         }

            </script> -->


        </div>

    </div>


    <div id="plot_status" s="{{plot_status}}" style="display: none"><p> {{ plot_status }}</p> </div>

     <div class="box" style="left:20px;top:360px;height:360px">
         <div class="div1">
            <h4><strong>Parameters</strong></h4>
         </div>
          <div class="div2" style="width: 30px">

        </div>


     {% if plot_status == 'heatmap' %}
        <form action="" method="post">
            <div class="div1">
            <h6><strong>Plot Type</strong></h6>
            </div>
            <div class="div2">
                 <input id="Heatmap" type="radio" name="plot" value="Heatmap" onclick="f1(2)" checked>
                <label for="Heatmap">Chiclet </label><br>
             </div>

            <div class="div3">
                <input id="Volcano Plot" type="radio"  name="plot" value="Volcano Plot" onclick="f1(1)">
                <label for="Volcano Plot">Volcano </label><br>
            </div>
        </form>

     {% elif plot_status == 'volcanoplot' %}
      <form action="" method="post">
            <div class="div1">
            <h6><strong>Plot Type</strong></h6>
            </div>
            <div class="div2">
                 <input id="Heatmap" type="radio" name="plot" value="Heatmap" onclick="f1(2)" >
                <label for="Heatmap">Chiclet </label><br>
             </div>

            <div class="div3">
                <input id="Volcano Plot" type="radio"  name="plot" value="Volcano Plot" onclick="f1(1)" checked>
                <label for="Volcano Plot">Volcano </label><br>
            </div>
        </form>

     {% else %}
      <form action="" method="post">
            <div class="div1">
            <h6><strong>Plot Type</strong></h6>
            </div>
            <div class="div2">
                 <input id="Heatmap" type="radio" name="plot" value="Heatmap" onclick="f1(2)" >
                <label for="Heatmap">Chiclet </label><br>
             </div>

            <div class="div3">
                <input id="Volcano Plot" type="radio"  name="plot" value="Volcano Plot" onclick="f1(1)">
                <label for="Volcano Plot">Volcano </label><br>
            </div>
        </form>
     {% endif %}


     {% if plot_status == 'heatmap' %}
        <form action="/click_show_v" method = "post">
         <div id="d1" style="display: none">
             <ul class="div1" style="float: left">
                <li>
                    Protein&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein">

                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>


                 <li>Symbol size&nbsp&nbsp<input id="rangeId" class="range" type="range" name="size" min="1" max="9" step="1" value="2" oninput="rangeOutId.value = rangeId.value"/>
				 <output name="rangeOut" id="rangeOutId">2</output>
				 </li>

                <li>X-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="-9999" max="9999" name="X_scale_l"> - <input type="number" step="0.01" min="0" max="9999" name="X_scale_r"></li>

                <li>Y-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp0.5 - 10^<input type="number" step="0.01" min="-9999" max="0" name="Y_scale"></li>

                <li>Major interval&nbsp&nbsp<input type="number"  step="0.01" min="0" max="9999" name="interval"></li>

                <li>
                    Time points &nbsp&nbsp&nbsp&nbsp<select  name="time_point">
                                            <option value = "ALL">All</option>
                    {% for lst in lists[2] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>

            </ul>


            <ul class="div3">


                <li>
                    State1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1">
                        {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2">
                       {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>


                <li id="color">
                    <div>Color</div>
                    <div class="btn-group" style="top:-15px; left: 145px; ">    <!--  BOOTSTRAP DROPDOWN -->
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#" > Select <span class="caret"></span></button>
                        <ul class="dropdown-menu"  style="width: fit-content" >
                            <li class="pattern1"><input type="hidden"  value="pattern1" name="colors" /><a href="javascript:void(0);" >
                                <img style = "width: 100%; height: 100%;" src="./static/image/000000.png" /></a>
                            </li>
                
                            <li ><input type="hidden" value="pattern2" name="colors"/><a href="javascript:void(0);" >
                                <img style = "width: 100%; height: 100%;" src="./static/image/170E34.png" /> </a>
                            </li>
                
                            <li ><input type="hidden" value="pattern3" name="colors" /><a href="javascript:void(0);" >
                
                                <img style = "width: 100%; height: 100%;" src="./static/image/511845.png" /> </a>
                            </li>
                
                            <li ><input type="hidden" value="pattern4" name="colors" /><a href="javascript:void(0);" >
                
                                <img style = "width: 100%; height: 100%;" src="./static/image/BE3726.png" /> </a>
                            </li>
                
                            <li ><input type="hidden" value="pattern5" name="colors" /><a href="javascript:void(0);" >
                
                                <img style = "width: 100%; height: 100%;" src="./static/image/C54129.png" /> </a>
                            </li>
                
                            <li ><input type="hidden" value="pattern6" name="colors" /><a href="javascript:void(0);" >
                
                                <img style = "width: 100%; height: 100%;" src="./static/image/E34798.png" /> </a>
                            </li>
                
                            <li ><input type="hidden" value="pattern7" name="colors" /><a href="javascript:void(0);" >
                
                                <img style = "width: 100%; height: 100%;" src="./static/image/FFE65D.png" /> </a>
                            </li>
                            
                     </ul>
                
                
                     
                    </div>
                
                
                
                            <script>
                                $(".dropdown-menu li a").click(function () {
                                    $(this).parent().find('input').attr('name', 'color');
                                    var selText = $(this).text();
                                    var imgSource = $(this).find('img').attr('src');
                                    var img = '<img  style = "width: 60px; height: 30px;" src="' + imgSource + '"/>';
                                    var color = $(this).parent().find('input').val();
                                    $(this).parents('.btn-group').find('.dropdown-toggle').html(img + ' ' + selText + ' <span class="caret"></span>');
                                    $(this).parents("footer").html('<input type="text" name="color" style="display:none" value="'+color+'">');
                                    
                
                                });
                
                                </script>
                


                </li>

                <li>Significance &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="0.01"></li>

                <li>Min-difference(Da)&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="min_dif" value="0.5"></li>

                <li>Text size &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="1" max="99" name="text_size" ></li>

                <li>Show list on plot &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="show_list" type="checkbox"  name="show_list" ></li>

                <li>Size of plot box &nbsp&nbsp&nbsp&nbspX&nbsp<input type="number" step="0.1" min="1" max="999" name="plot_X_size"> - Y<input type="number" step="0.1" min="0" max="999" name="plot_Y_size"></li>


                <li><button class="button" type = "submit"  style="width: 70px;height: 30px">Show</button></li>

            </ul>
         </div>
         </form>



	<form action="/click_show_h" method = "post">
    <div id="d2" style="display: block">
             <ul class="div1" style="float: left">

                 <li>
                 <strong>Protein</strong>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein" value="{{ paras[0] }}">
                         <option>{{ paras[0] }}</option>
                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>

                <li><strong>Comparison</strong>
				 </li>

                <li>
                    State1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1" value="{{ paras[1] }}" style="width: 100px">
                     <option>{{ paras[1] }}</option>
                    {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2" value="{{ paras[2] }}" style="width: 100px">
                     <option>{{ paras[2] }}</option>
                    {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>


                 <li><strong>Range</strong>
				 </li>

                 <li>Max &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="0" max="9999" name="max" value="{{ paras[3] }}"></li>

                <li>Step &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="1" min="0" max="9999" name="max_step" value="{{ paras[4] }}"> </li>

                <li>Below 0 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="negative" type="checkbox"  name="negative" value="{{ paras[8] }}"></li>

                <li>Min &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min" type="number" step="0.1" min="-9999" max="0" name="min" value="{{ paras[5] }}" disabled></li>

                <li>Step &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min_step" type="number" step="1" min="0" max="9999" name="min_step" value="{{ paras[6] }}" disabled> </li>

            </ul>


            <ul class="div3">

                 <li id="color1" >
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color1" value="{{ paras[9] }}">
                    <option>{{ paras[9] }}</option>
                     <option  value ="r">r</option>
                    <option  value ="g">g</option>
                    <option  value ="b">b</option>
                    <option  value ="o">o</option>
                    <option  value ="y">y</option>
                    <option  value ="g">g</option>

                </select></li>

                 <li id="color2"  style="display: none">
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color2" value="{{ paras[9] }}">
                    <option>{{ paras[9] }}</option>
                    <option value ="rb">rb

                    </option>
                    <option  value ="br">br

                    </option>
                    <option  value ="gr">gr

                    </option>
                    <option  value ="ob">ob

                    </option>
                    <option  value ="rg">rg

                    </option>
                    <option  value ="bp">bp

                    </option>
                    <option  value ="bg">bg

                    </option>

                </select></li>

                 <li>Significance Filter&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="checkbox" value="{{ paras[11] }}" name="sig_filter"></li>

                <li>Significance (p-value <)&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="{{ paras[10] }}"></li>


                <li><button class="button" type = "submit" style="width: 70px;height: 30px">Show</button></li>

            </ul>
         </div>
         </form>


      {% elif plot_status == 'volcanoplot' %}

      <form action="/click_show_v" method = "post">
         <div id="d1" style="display: block" >
             <ul class="div1" style="float: left">
                <li>
                    Protein&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein" value="{{ paras[0] }}">
                        <option>{{paras[0] }}</option>
                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>


                 <li>Symbol size &nbsp&nbsp<input id="rangeId" class="range" type="range" name="size" min="1" max="9" step="1" value="{{ paras[4] }}" oninput="rangeOutId.value = rangeId.value"/>
				 <output name="rangeOut" id="rangeOutId">{{ paras[4] }}</output>
				 </li>

                <li>X-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="-9999" max="9999" name="X_scale_l" value="{{ paras[5] }}"> - <input type="number" step="0.01" min="0" max="9999" name="X_scale_r" value="{{ paras[6] }}"></li>

                <li>Y-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp0.5 - 10^<input type="number" step="0.01" min="-9999" max="0" name="Y_scale" value="{{ paras[7] }}"></li>

                <li>Major interval&nbsp&nbsp<input type="number"  step="0.01" min="0" max="9999" name="interval" value="{{ paras[8] }}"></li>

                <li>
                    Time points &nbsp&nbsp&nbsp&nbsp<select  name="time_point" value="{{ paras[3] }}" style="width: 120px">
                        {% if paras[3] is not string %}
                        <option value = "ALL"> All</option>
                    {% else %}
                        <option>{{ paras[3] }}</option>
                        <option value = "ALL"> All</option>
                    {% endif %}

                    {% for lst in lists[2] %}
                        {% if lst != paras[3] %}
                            <option>{{ lst }}</option>
                        {% endif %}
                    
                    {% endfor %}

                </select>
                </li>

            </ul>


            <ul class="div3">


                <li>
                    State1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1" value="{{ paras[1] }}" style="width: 100px">
                    <option>{{ paras[1] }}</option>
                    {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2" value="{{ paras[2] }}" style="width: 100px">
                    <option>{{paras[2] }}</option>
                    {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>




<li id="color">
    <div>Color</div>
    <div class="btn-group" style="top:-15px; left: 145px; ">    <!--  BOOTSTRAP DROPDOWN -->
    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#" > Select<span class="caret"></span></button>
        <ul class="dropdown-menu"  style="width: fit-content" >
            <li class="pattern1"><input type="hidden"  value="pattern1" name="colors" /><a href="javascript:void(0);" >
                <img style = "width: 100%; height: 100%;" src="./static/image/000000.png" /></a>
            </li>

            <li ><input type="hidden" value="pattern2" name="colors"/><a href="javascript:void(0);" >
                <img style = "width: 100%; height: 100%;" src="./static/image/170E34.png" /> </a>
            </li>

            <li ><input type="hidden" value="pattern3" name="colors" /><a href="javascript:void(0);" >

                <img style = "width: 100%; height: 100%;" src="./static/image/511845.png" /> </a>
            </li>

            <li ><input type="hidden" value="pattern4" name="colors" /><a href="javascript:void(0);" >

                <img style = "width: 100%; height: 100%;" src="./static/image/BE3726.png" /> </a>
            </li>

            <li ><input type="hidden" value="pattern5" name="colors" /><a href="javascript:void(0);" >

                <img style = "width: 100%; height: 100%;" src="./static/image/C54129.png" /> </a>
            </li>

            <li ><input type="hidden" value="pattern6" name="colors" /><a href="javascript:void(0);" >

                <img style = "width: 100%; height: 100%;" src="./static/image/E34798.png" /> </a>
            </li>

            <li ><input type="hidden" value="pattern7" name="colors" /><a href="javascript:void(0);" >

                <img style = "width: 100%; height: 100%;" src="./static/image/FFE65D.png" /> </a>
            </li>
            
     </ul>


     
    </div>



            <script>
                $(".dropdown-menu li a").click(function () {
                    $(this).parent().find('input').attr('name', 'color');
                    var selText = $(this).text();
                    var imgSource = $(this).find('img').attr('src');
                    var img = '<img  style = "width: 60px; height: 30px;" src="' + imgSource + '"/>';
                    var color = $(this).parent().find('input').val();
                    $(this).parents('.btn-group').find('.dropdown-toggle').html(img + ' ' + selText + ' <span class="caret"></span>');
                    $(this).parents("footer").html('<input type="text" name="color" style="display:none" value="'+color+'">');
                    

                });

                </script>

                


                <li>Significance &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="{{ paras[10] }}"></li>

                <li>Min-difference(Da)&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="min_dif" value="{{ paras[11] }}"></li>

                <li>Text size &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="1" max="99" name="text_size" value="{{ paras[15] }}"></li>

                <li>Show list on plot &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="show_list" type="checkbox"  name="show_list" value="{{ paras[14] }}"></li>

                <li>Size of plot box &nbsp&nbsp&nbsp&nbspX&nbsp<input type="number" step="0.1" min="1" max="999" name="plot_X_size" value="{{ paras[12] }}"> - Y<input type="number" step="0.1" min="0" max="999" name="plot_Y_size" value="{{ paras[13] }}"></li>


                <li><button class="button" type = "submit"  style="width: 70px;height: 30px">Show</button></li>

            </ul>
         </div>
         </form>



	<form action="/click_show_h" method = "post">
    <div id="d2" style="display:none">
             <ul class="div1" style="float: left">

                 <li>
                 <strong>Protein</strong>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein">

                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>

                <li><strong>Comparison</strong>
				 </li>

                <li>
                    State1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1">
                        {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2">
                       {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>


                 <li><strong>Range</strong>
				 </li>

                 <li>Max &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="0" max="9999" name="max"></li>

                <li>Step &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="1" min="0" max="9999" name="max_step"> </li>

                <li>Below 0 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="negative" type="checkbox"  name="negative" ></li>

                <li>Min &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min" type="number" step="0.1" min="-9999" max="0" name="min" disabled></li>

                <li>Step &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min_step" type="number" step="1" min="0" max="9999" name="min_step" disabled> </li>


            </ul>


            <ul class="div3">
                <!-- <li>
                    Time points&nbsp&nbsp<select  name="time_point">
                    {% for lst in lists[2] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>
            -->

                <li id="color1" >
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color1">
                    <option  value ="r">r</option>
                    <option  value ="g">g</option>
                    <option  value ="b">b</option>
                    <option  value ="o">o</option>
                    <option  value ="y">y</option>
                    <option  value ="g">g</option>

                </select></li>

                 <li id="color2"  style="display: none">
                    Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color2">

                    <option value ="rb">rb

                    </option>
                    <option  value ="br">br

                    </option>
                    <option  value ="gr">gr

                    </option>
                    <option  value ="ob">ob

                    </option>
                    <option  value ="rg">rg

                    </option>
                    <option  value ="bp">bp

                    </option>
                    <option  value ="bg">bg

                    </option>

                </select></li>

                 <li>Significance Filter&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="checkbox"  name="sig_filter"></li>

                <li>Significance (p-value <)&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="0.01"></li>


                <li><button class="button" type = "submit" style="width: 70px;height: 30px">Show</button></li>

            </ul>
         </div>
         </form>


      {% else %}
        <form action="/click_show_v" method = "post">
         <div id="d1" style="display:none">
             <ul class="div1" style="float: left">
                <li>
                    Protein&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein">

                        {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                    </select>

                 </li>


                 <li>Symbol size&nbsp&nbsp<input id="rangeId" class="range" type="range" name="size" min="1" max="9" step="1" value="2" oninput="rangeOutId.value = rangeId.value"/>
				 <output name="rangeOut" id="rangeOutId">2</output>
				 </li>

                <li>X-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="-9999" max="9999" name="X_scale_l"> - <input type="number" step="0.01" min="0" max="9999" name="X_scale_r"></li>

                <li>Y-Scale&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp0.5 - 10^<input type="number" step="0.01" min="-9999" max="0" name="Y_scale"></li>

                <li>Major interval&nbsp&nbsp<input type="number"  step="0.01" min="0" max="9999" name="interval"></li>

                <li>
                    Time points &nbsp&nbsp&nbsp&nbsp<select  name="time_point">
                                            <option value = "ALL">All</option>
                    {% for lst in lists[2] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>

            </ul>


            <ul class="div3">


                <li>
                    State1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1">
                        {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
					</select></li>

                <li>
                    State2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2">
                       {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                </select>
                </li>





            <li id="color">
                <div>Color</div>
                <div class="btn-group" style="top:-15px; left: 145px; ">    <!--  BOOTSTRAP DROPDOWN -->
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#" >Select<span class="caret"></span></button>
                    <ul class="dropdown-menu"  style="width: fit-content" >
                        <li class="pattern1"><input type="hidden"  value="pattern1" name="colors" /><a href="javascript:void(0);" >
                            <img style = "width: 100%; height: 100%;" src="./static/image/000000.png" /></a>
                        </li>

                        <li ><input type="hidden" value="pattern2" name="colors"/><a href="javascript:void(0);" >
                            <img style = "width: 100%; height: 100%;" src="./static/image/170E34.png" /> </a>
                        </li>

                        <li ><input type="hidden" value="pattern3" name="colors" /><a href="javascript:void(0);" >
         
                            <img style = "width: 100%; height: 100%;" src="./static/image/511845.png" /> </a>
                        </li>

                        <li ><input type="hidden" value="pattern4" name="colors" /><a href="javascript:void(0);" >
         
                            <img style = "width: 100%; height: 100%;" src="./static/image/BE3726.png" /> </a>
                        </li>

                        <li ><input type="hidden" value="pattern5" name="colors" /><a href="javascript:void(0);" >
         
                            <img style = "width: 100%; height: 100%;" src="./static/image/C54129.png" /> </a>
                        </li>

                        <li ><input type="hidden" value="pattern6" name="colors" /><a href="javascript:void(0);" >
         
                            <img style = "width: 100%; height: 100%;" src="./static/image/E34798.png" /> </a>
                        </li>

                        <li ><input type="hidden" value="pattern7" name="colors" /><a href="javascript:void(0);" >
         
                            <img style = "width: 100%; height: 100%;" src="./static/image/FFE65D.png" /> </a>
                        </li>
                        
                 </ul>


                 
                </div>
            


                        <script>
                            $(".dropdown-menu li a").click(function () {
                                $(this).parent().find('input').attr('name', 'color');
                                var selText = $(this).text();
                                var imgSource = $(this).find('img').attr('src');
                                var img = '<img  style = "width: 60px; height: 30px;" src="' + imgSource + '"/>';
                                var color = $(this).parent().find('input').val();
                                $(this).parents('.btn-group').find('.dropdown-toggle').html(img + ' ' + selText + ' <span class="caret"></span>');
                                $(this).parents("footer").html('<input type="text" name="color" style="display:none" value="'+color+'">');
                                

                            });
            
                            </script>



                <li>Significance &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="0.01"></li>

                <li>Min-difference(Da)&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="min_dif" value="0.5"></li>

                <li>Text size &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="1" max="99" name="text_size" ></li>

                <li>Show list on plot &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="show_list" type="checkbox"  name="show_list" ></li>

                <li>Size of plot box &nbsp&nbsp&nbsp&nbspX&nbsp<input type="number" step="0.1" min="1" max="999" name="plot_X_size"> - Y<input type="number" step="0.1" min="0" max="999" name="plot_Y_size"></li>

                <li><button class="button" type = "submit"  style="width: 70px;height: 30px">Show</button></li>

            </ul>
         </div>
         </form>



         <form action="/click_show_h" method = "post">
            <div id="d2" style="display: none" >
                     <ul class="div1" style="float: left">
        
                         <li>
                         <strong>Protein</strong> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select  name="protein">
        
                                {% for lst in lists[0] %}<option>{{ lst }}</option>{% endfor %}
                            </select>
        
                         </li>
        
                        <li><strong>Comparison</strong>
                         </li>
        
                        <li>
                            State1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state1">
                                {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                            </select></li>
        
                        <li>
                            State2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="state2">
                               {% for lst in lists[1] %}<option>{{ lst }}</option>{% endfor %}
                        </select>
                        </li>
        
        
                         <li><strong>Range</strong>
                         </li>
        
                         <li>Max &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="0.1" min="0" max="9999" name="max"></li>
        
                        <li>Step &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="number" step="1" min="0" max="9999" name="max_step"> </li>
        
                        <li>Below 0 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="negative" type="checkbox"  name="negative" ></li>
        
                        <li>Min &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min" type="number" step="0.1" min="-9999" max="0" name="min" disabled></li>
        
                        <li>Step &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input id="min_step" type="number" step="1" min="0" max="9999" name="min_step" disabled> </li>
        
        
        
                    </ul>
        
        
                    <ul class="div3" >
                        <!-- <li>
                            Time points&nbsp&nbsp<select  name="time_point">
                            {% for lst in lists[2] %}<option>{{ lst }}</option>{% endfor %}
                        </select>
                        </li>
                    -->
                     <li id="color1" >
                            Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color1">
                            <option  value ="r">r</option>
                            <option  value ="g">g</option>
                            <option  value ="b">b</option>
                            <option  value ="o">o</option>
                            <option  value ="y">y</option>
                            <option  value ="g">g</option>
        
                        </select></li>
        
        
                         <li id="color2"  style="display: none">
                            Color&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<select name="color2" id="color_neg" >
        
        
                            <option value ="rb" class="rb">rb</option>
                            <option  value ="br" class="br">br</option>
                            <option  value ="gr" class="gr">gr</option>
                            <option  value ="ob" class="ob">ob</option>
                            <option  value ="rg" class="rg">rg</option>
                            <option  value ="bp" class="bp">bp</option>
                            <option  value ="bg" class="bg">bg</option>
        
                        </select></li>
        
                         <li>Significance Filter&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="checkbox"  name="sig_filter"></li>
        
                        <li>Significance (p-value <)&nbsp&nbsp<input type="number" step="0.01" min="0" max="9999" name="significance" value="0.01"></li>
        
        
                        <li><button class="button" type = "submit" style="width: 70px;height: 30px">Show</button></li>
        
                    </ul>
                 </div>
                 </form>
    {% endif %}


      </div>
                <script>

                     document.getElementById('negative').onchange = function() {
                        document.getElementById('min').disabled = !this.checked;
                        document.getElementById('min_step').disabled = !this.checked;
                        var color1 = document.getElementById("color1");
                        var color2 = document.getElementById("color2");
                        if(this.checked) {
                            color1.style.display = "none";
                            color2.style.display = "block";
                        } else {
                            color2.style.display = "none";
                            color1.style.display = "block";
                        }
                        };

                </script>



    <div id="graphdiv" class="screen" style="left:670px;top:100px">
        <img id="graphchart" class="center" src="/plotshow" alt="Your figure will show here" align="middle" >


    </div>








    <div  clasee="text-oneLine" style="position:absolute;left:750px;top:685px">
        <span>
            <button  type="button" onclick = "fullscreen()"><p4>Full Screen</p4></button>
            <button  type="button" onclick="window.location.href='{{ url_for('plotshow') }}';"><p4>Export as PNG</p4> </button>
            <button  type="button" onclick="window.location.href='{{ url_for('downloadeps') }}';"><p4>Export as EPS</p4></button>
            <button  type="button" onclick="window.location.href='{{ url_for('downloadcsv') }}';" ><p4>Export as CSV</p4></button>
        </span>

    </div>


<footer class="footnotes">
       If you use HD-eXplosion please acknowledge Naifu Zhang and Sheena D’Arcy of The University of Texas at Dallas.

</footer>



</body>

{% endblock%}

</html>